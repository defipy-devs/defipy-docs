Search.setIndex({"docnames": ["abstract_uniswap", "balancer/index", "balancer/tutorials/abstract_balancer_test", "balancer/tutorials/primitive_balancer_test", "index", "installation", "math/univ2_math", "math/univ3_math", "primitive_balancer", "primitive_stableswap", "primitive_uniswapv2", "primitive_uniswapv3", "quick/balancer", "quick/index", "quick/subsection/index", "quick/uniswap", "stableswap/index", "stableswap/tutorials/abstract_stableswap_test", "stableswap/tutorials/primitive_stableswap_test", "tutorials/fsm", "tutorials/order_book", "tutorials/simple_tree_pt1", "tutorials/simple_tree_pt2", "tutorials/univ2_sim1", "tutorials/univ2_sim2", "uniswapv2/index", "uniswapv2/tutorials/indexing_problem", "uniswapv2/tutorials/machine_precision", "uniswapv2/tutorials/swap_deposit", "uniswapv2/tutorials/uniswap_simulation", "uniswapv2/tutorials/uniswap_v2", "uniswapv2/tutorials/withdraw_swap", "uniswapv3/index", "uniswapv3/tutorials/machine_precision", "uniswapv3/tutorials/uniswap_v3", "usage"], "filenames": ["abstract_uniswap.rst", "balancer/index.rst", "balancer/tutorials/abstract_balancer_test.ipynb", "balancer/tutorials/primitive_balancer_test.ipynb", "index.rst", "installation.rst", "math/univ2_math.ipynb", "math/univ3_math.ipynb", "primitive_balancer.rst", "primitive_stableswap.rst", "primitive_uniswapv2.rst", "primitive_uniswapv3.rst", "quick/balancer.rst", "quick/index.rst", "quick/subsection/index.rst", "quick/uniswap.rst", "stableswap/index.rst", "stableswap/tutorials/abstract_stableswap_test.ipynb", "stableswap/tutorials/primitive_stableswap_test.ipynb", "tutorials/fsm.ipynb", "tutorials/order_book.ipynb", "tutorials/simple_tree_pt1.ipynb", "tutorials/simple_tree_pt2.ipynb", "tutorials/univ2_sim1.ipynb", "tutorials/univ2_sim2.ipynb", "uniswapv2/index.rst", "uniswapv2/tutorials/indexing_problem.ipynb", "uniswapv2/tutorials/machine_precision.ipynb", "uniswapv2/tutorials/swap_deposit.ipynb", "uniswapv2/tutorials/uniswap_simulation.ipynb", "uniswapv2/tutorials/uniswap_v2.ipynb", "uniswapv2/tutorials/withdraw_swap.ipynb", "uniswapv3/index.rst", "uniswapv3/tutorials/machine_precision.ipynb", "uniswapv3/tutorials/uniswap_v3.ipynb", "usage.rst"], "titles": ["Uniswap V2/V3", "Balancer", "Abstract Interface", "Primitive Interface", "DeFiPy: DeFi Analytics with Python", "Installation", "Uniswap V2", "Uniswap V3", "Balancer", "StableSwap", "Uniswap V2", "Uniswap V3", "Balancer", "Quick Start", "SubSubpage", "Key Classes and Methods", "Stableswap", "Abstract Interface", "Primitive Interface", "Finite State Machine", "Uniswap V3 Order Book", "Simple Uni V2 Tree (Part 1)", "Simple Uni V2 Tree (Part 2)", "Uniswap V2 Simulation (Part 1)", "Uniswap V2 Simulation (Part 2)", "Uniswap V2", "Indexing Problem", "Machine Precision", "Swap-Deposit", "Basic Uniswap Simulation", "Abstract Interface (V2)", "Withdraw-Swap", "Uniswap V3", "Machine Precision", "Abstract Interface (V3)", "Usage"], "terms": {"class": [0, 8, 9, 10, 11, 13, 19], "uniswappi": [0, 4, 10, 11, 20, 21, 22, 24, 25, 28, 29, 30, 31, 33], "process": [0, 13, 20, 22], "x": [0, 2, 4, 6, 7, 17, 19, 20, 21, 22, 24, 26, 28, 29, 30, 31, 34, 35], "y": [0, 2, 4, 6, 7, 17, 19, 20, 21, 22, 23, 26, 28, 30, 31, 34, 35], "amount": [0, 1, 4, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 22, 24, 28, 29, 30, 34, 35], "pool": [0, 1, 2, 4, 6, 7, 8, 9, 10, 11, 13, 15, 16, 17, 21, 22, 24, 26, 27, 28, 29, 30, 31, 33, 34, 35], "appli": [0, 2, 6, 7, 13, 15, 17, 19, 20, 21, 22, 23, 27, 28, 30, 31, 33, 34], "lp": [0, 1, 4, 6, 7, 8, 9, 10, 11, 13, 17, 18, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34, 35], "user_nm": [0, 2, 6, 7, 10, 17, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "amount0": [0, 11, 13, 15], "amount1": [0, 11, 13, 15], "lwr_tick": [0, 7, 13, 15, 20, 33, 34], "none": [0, 2, 3, 9, 10, 11, 13, 17, 18, 19], "upr_tick": [0, 7, 13, 15, 20, 33, 34], "exchang": [0, 2, 3, 6, 7, 8, 9, 10, 11, 13, 16, 17, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "str": [0, 8, 9, 10, 11, 13, 15, 18, 28], "account": [0, 10, 11, 20, 26], "name": [0, 8, 9, 10, 11, 13, 15, 28], "float": [0, 3, 8, 9, 10, 11, 13, 15, 18], "token": [0, 1, 4, 13, 15, 16, 17, 21, 22, 25, 26, 27, 28, 30, 33, 34, 35], "int": [0, 9, 10, 11, 13, 15, 20, 21, 22], "lower": [0, 11, 13, 15], "tick": [0, 11, 13, 15, 20], "posit": [0, 11], "which": [0, 4, 7, 11, 13, 15, 19, 28, 35], "add": [0, 1, 2, 6, 8, 9, 10, 11, 12, 13, 15, 16, 17, 19, 30, 34], "upper": [0, 11, 13, 15, 24, 29], "out": [0, 1, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 17, 20, 28, 30, 31], "dictionari": [0, 8, 9, 10, 11, 15], "output": [0, 4, 8, 9, 10, 11, 13, 15, 35], "ev": 0, "tdel": [0, 19], "vice": [0, 2, 4, 11, 17, 30, 34, 35], "vers": [0, 2, 11, 17, 30, 34], "eventselectionmodel": [0, 20], "object": [0, 4, 8, 9, 35], "randomli": 0, "gener": 0, "bui": 0, "vs": [0, 7, 19, 21, 22, 23], "sell": [0, 5], "event": [0, 4, 5, 22, 35], "tokendeltamodel": [0, 19, 20, 21, 22, 23], "token_in": [0, 3, 10, 13, 15, 26, 28, 31], "amount_in": [0, 8, 9, 10, 13, 15], "sqrt_price_limit": 0, "erc20": [0, 2, 3, 6, 7, 8, 9, 10, 11, 13, 17, 18, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34], "specifi": [0, 4, 9, 13, 15, 35], "amount_out_expect": [0, 10], "withdrawswap": [0, 4, 6, 7, 13, 22, 25, 27, 32, 33, 35], "from": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 18, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34, 35], "oppos": [0, 10, 21, 22, 28, 30, 34], "ad": [0, 2, 3, 13, 15], "specif": [0, 8, 9, 12, 13, 14, 15, 28], "receiv": [0, 6, 7, 8, 9, 10, 11, 28], "singl": [0, 4, 8, 30, 34, 35], "token_out": [0, 3, 13, 15, 31], "amount_out": [0, 6, 10, 30], "withdrawn": [0, 11, 31], "get_trading_token": 0, "get": [0, 4, 6, 7, 8, 9, 10, 11, 22, 26, 28, 30, 31, 34], "trading_token": [0, 31], "swapdeposit": [0, 4, 6, 13, 21, 22, 25, 27, 28, 32, 35], "approx": [0, 28], "half": 0, "proce": 0, "plu": 0, "remain": [0, 4, 28, 30, 34, 35], "other": [0, 4, 5, 8, 9, 10, 12, 14, 35], "approxim": [0, 4, 26, 35], "addliquid": [0, 1, 4, 6, 7, 13, 16, 19, 20, 22, 25, 27, 32, 33, 35], "init_pric": [0, 13], "us": [0, 2, 4, 5, 8, 9, 11, 13, 15, 17, 19, 20, 21, 22, 25, 28, 29, 30, 31, 34, 35], "onli": [0, 11, 26, 30, 34], "removeliquid": [0, 2, 4, 6, 7, 13, 16, 19, 22, 25, 27, 31, 32, 33, 35], "remov": [0, 1, 2, 8, 9, 10, 11, 16, 17, 19, 22, 30, 34], "reserv": [0, 2, 3, 6, 7, 8, 9, 10, 11, 13, 17, 18, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34], "cpt": [0, 6, 7, 10, 11, 13, 26, 31], "indextokenquot": 0, "quote_native_token": 0, "true": [0, 8, 9, 11, 19, 20, 21, 22, 27, 30, 33], "index": [0, 20, 21, 22, 25, 31], "boolean": [0, 8, 9], "base": [0, 1, 3, 8, 9, 10, 29, 30, 34], "otherwis": [0, 5, 6, 7], "base_x_asset": 0, "asset": [0, 3, 8, 9, 10, 16, 26, 28, 30, 34], "pair": [0, 4, 8, 9, 10, 11, 13, 30, 34, 35], "uniswapexchang": [0, 8, 9, 10, 11, 13, 15], "base_y_asset": 0, "get_base_lp": 0, "tkn": [0, 7, 8, 9, 13, 15, 18, 20, 21, 22, 24, 28, 29, 30, 31, 34], "return": [0, 4, 10, 11, 19, 21, 22, 26, 28, 30, 31, 34, 35], "parent": [0, 21, 22], "given": [0, 1, 6, 7, 8, 9, 10, 11, 17, 26, 28, 30, 31, 34], "child": [0, 21, 22], "one": [0, 4, 11, 28, 30, 34, 35], "its": [0, 8, 9, 26], "get_native_x": 0, "tkn_x": 0, "x_amt": 0, "get_native_i": 0, "tkn_y": 0, "y_amt": 0, "get_x": 0, "amt_lp": 0, "an": [0, 2, 3, 4, 5, 8, 9, 10, 11, 12, 20, 28, 35], "hold": [0, 8, 9, 10, 11, 19], "ie": [0, 8, 9, 21, 22, 26, 31], "xy": [0, 6, 26, 31], "k": [0, 18, 19, 20, 21, 22, 23, 24, 29], "get_i": 0, "lpquot": [0, 4, 19, 21, 22, 23, 25, 26, 27, 32, 33, 35], "quote_oppos": [0, 26], "include_fe": [0, 27, 30, 33], "fals": [0, 6, 9, 11, 19, 20, 21, 22, 23, 24, 26, 27, 29, 30, 33, 34], "price": [0, 1, 4, 6, 7, 8, 9, 10, 11, 13, 15, 16, 19, 23, 24, 27, 29, 30, 33, 34, 35], "default": [0, 4, 35], "get_amount": [0, 10, 27, 30, 33, 34], "input": [0, 7, 8, 9, 10, 11, 13, 15], "amt_out": [0, 8, 22, 31], "get_amount_from_lp": [0, 21, 22, 26, 27, 30, 33, 34], "amount_lp_in": 0, "get_liquid": [0, 6, 7, 10, 11, 26, 30], "get_lp_from_amount": [0, 9, 21, 26, 30, 34], "get_opposing_token": 0, "get_pric": [0, 3, 7, 8, 9, 10, 11, 18, 19, 20, 21, 22, 23, 27, 30, 33, 34], "respect": [0, 7], "get_reserv": [0, 6, 7, 8, 9, 10, 11, 17, 18, 21, 22, 26, 27, 28], "rebaseindextoken": [0, 21], "determin": [0, 6, 7, 11, 28, 30, 31, 34], "rebas": [0, 30, 34], "certain": [0, 28], "invers": 0, "settlementlptoken": [0, 21], "liq_amt": 0, "calcul": [0, 3, 4, 11, 28, 31, 35], "settlement": [0, 6, 7, 30, 31, 34], "what": 0, "term": [0, 6, 7], "rebase_amount": 0, "itkn_amt": [0, 26, 31], "lp_amount": 0, "abstract": [1, 13, 15, 16, 25, 32], "interfac": [1, 13, 15, 16, 25, 32], "join": [1, 4, 6, 7, 13, 15, 16, 19, 20, 21, 22, 23, 25, 27, 32, 33, 35], "swap": [1, 4, 8, 9, 10, 11, 13, 15, 16, 20, 21, 22, 25, 26, 27, 32, 33, 35], "share": [1, 8, 9, 11, 13, 17], "primit": [1, 13, 15, 16], "benchmark": 1, "paramet": [1, 4, 13, 15, 16, 19, 23, 35], "liquid": [1, 2, 4, 6, 7, 8, 9, 10, 11, 13, 15, 16, 17, 19, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34, 35], "via": [2, 4, 8, 11, 13, 15, 17, 26, 30, 31, 34, 35], "To": [2, 4, 5, 6, 7, 11, 12, 17, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34, 35], "download": [2, 6, 7, 17, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34], "notebook": [2, 3, 6, 7, 17, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34], "thi": [2, 4, 5, 6, 7, 11, 12, 13, 14, 15, 17, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34, 35], "tutori": [2, 4, 6, 7, 13, 17, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34, 35], "see": [2, 4, 5, 6, 7, 13, 17, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34, 35], "here": [2, 4, 6, 7, 12, 14, 17, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34, 35], "1": [2, 3, 6, 7, 12, 13, 14, 15, 17, 18, 19, 20, 22, 24, 25, 26, 28, 29, 30, 31, 32, 34], "defipi": [2, 3, 5, 13, 15, 17, 18, 19, 20, 23, 27, 34, 35], "import": [2, 3, 6, 7, 12, 13, 15, 17, 18, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34], "2": [2, 3, 4, 6, 12, 13, 15, 17, 18, 19, 20, 21, 25, 26, 28, 29, 31, 32, 34, 35], "user_test": [2, 3, 17, 18, 26], "amt_dai": [2, 3, 17, 18, 27, 33], "10000000": [2, 3], "denorm_wt_dai": [2, 3], "10": [2, 3, 4, 6, 13, 17, 18, 19, 20, 21, 22, 23, 24, 27, 29, 30, 33, 34, 35], "amt_eth": [2, 3, 13, 27, 30, 33, 34], "67738": [2, 3], "6361731024": [2, 3], "denorm_wt_eth": [2, 3], "40": [2, 3, 7, 13, 26, 27], "init_pool_shar": [2, 3], "100": [2, 3, 13, 15, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "dai": [2, 3, 6, 7, 13, 15, 16, 17, 24, 26, 27, 29, 33], "0x111": [2, 3, 6, 7, 13, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34], "deposit": [2, 3, 4, 8, 9, 10, 11, 13, 17, 18, 20, 25, 26, 30, 31, 34, 35], "weth": [2, 3, 13], "0x09": [2, 3, 6, 7, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34], "bgrp": [2, 3], "balancervault": [2, 3, 8, 13, 15], "add_token": [2, 3, 8, 9, 13, 17, 18], "3": [2, 3, 5, 6, 13, 15, 17, 18, 19, 20, 21, 22, 24, 25, 26, 29, 31, 33, 34], "bfactori": [2, 3, 13], "balancerfactori": [2, 3, 8, 13, 15], "factori": [2, 3, 6, 7, 8, 9, 10, 11, 13, 15, 17, 18, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "0x2": [2, 3, 6, 7, 13, 17, 18, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "exchg_data": [2, 3, 6, 7, 8, 9, 10, 11, 15, 17, 18, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "balancerexchangedata": [2, 3, 8, 13, 15], "vault": [2, 3, 13, 15, 17, 18, 19, 22], "symbol": [2, 3, 6, 7, 8, 9, 13, 15, 17, 18, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "address": [2, 3, 6, 7, 8, 9, 10, 11, 13, 15, 17, 18, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "0x011": [2, 3, 6, 7, 13, 17, 18, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "deploi": [2, 3, 6, 7, 8, 9, 10, 11, 13, 15, 17, 18, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "summari": [2, 3, 6, 7, 8, 9, 10, 11, 13, 17, 18, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "balanc": [2, 4, 9, 11, 16, 21, 22, 27], "weight": [2, 3, 9, 13, 15, 20], "0": [2, 3, 6, 7, 10, 11, 13, 15, 18, 19, 20, 21, 22, 23, 24, 26, 27, 28, 29, 30, 31, 33, 34], "8": [2, 3, 6, 13, 17, 18, 19, 20, 21, 22, 23, 24, 29, 33, 34], "4": [2, 3, 6, 13, 15, 17, 18, 19, 20, 21, 22, 24, 26, 28, 29, 31, 33, 34], "amt_tkn_in": [2, 3, 8, 9, 17, 18], "10000": [2, 13, 15, 17, 18, 19, 21, 22, 23, 24, 27, 29, 30, 34], "tkn_in": [2, 3, 8, 9, 17, 18], "tkn_out": [2, 3, 8, 9, 17, 18], "re": [2, 3, 4, 17, 18, 21, 22, 27, 31], "proc": [2, 13], "swapout": 2, "print": [2, 3, 6, 7, 9, 10, 11, 12, 17, 18, 19, 21, 22, 24, 26, 27, 28, 29, 30, 31, 33, 34], "f": [2, 3, 6, 7, 17, 18, 19, 20, 21, 22, 23, 24, 26, 27, 29, 30, 33, 34], "token_nam": [2, 3, 6, 8, 9, 10, 11, 17, 18, 26, 27, 28, 30, 31, 33, 34], "wa": [2, 3, 11, 17, 18], "tkn_out_amt": [2, 3, 9, 17, 18], "10010000": 2, "67721": 2, "75437414162": 2, "16": [2, 3, 6, 18, 19, 24, 28, 29, 30, 34], "881798960778035": 2, "5": [2, 3, 6, 13, 15, 17, 18, 19, 20, 21, 22, 23, 24, 28, 29, 30, 31, 33, 34], "amt_tkn_out": [2, 3, 8, 9], "20": [2, 3, 6, 18, 19, 21, 22, 23, 24, 28, 29, 30, 31, 34], "swapin": [2, 13], "tkn_in_amt": [2, 3], "9998136": 2, "750149786": 2, "67741": 2, "11863": 2, "249850213939": 2, "6": [2, 3, 6, 7, 13, 17, 18, 19, 20, 21, 22, 24, 29, 33, 34], "25": [2, 7, 18, 20, 23, 24, 28, 29, 30], "addtkn": 2, "result": [2, 3], "anaddit": [2, 3], "shares_in_amt": [2, 3], "67766": 2, "0295080381873": 2, "029508038187306896": 2, "7": [2, 3, 5, 6, 13, 17, 18, 19, 20, 21, 22, 23, 24, 29, 33, 34], "amt_shares_in": [2, 3, 8, 9, 15], "addshar": 2, "were": [2, 3], "addit": [2, 3, 4, 6, 12, 13, 15, 35], "89572": 2, "57081082885": 2, "125": 2, "21805": 2, "816436687244": 2, "python": [3, 5, 20, 35], "implement": [3, 4, 9, 29, 35], "broadli": 3, "consist": [3, 4, 35], "two": [3, 4, 28, 35], "main": [3, 4, 35], "compon": 3, "balancermath": 3, "py": 3, "refactor": [3, 4, 35], "v1": 3, "math": [3, 6, 7, 9, 16, 26, 28, 31], "solid": [3, 4, 27, 33, 35], "contract": [3, 5], "code": [3, 13, 14], "copi": [3, 5], "balancerpools_model": 3, "gh": 3, "repo": [3, 9], "balancerexchang": [3, 8], "The": [3, 4, 5, 6, 7, 11, 13, 15, 26, 27, 28, 30, 31, 33, 34, 35], "map": [3, 8, 9, 10, 11, 19], "follow": [3, 4, 5, 6, 7, 13, 15, 19, 26, 28, 31, 35], "bmath": 3, "calcspotpric": 3, "calc_spot_pric": 3, "calcoutgivenin": 3, "calc_out_given_in": 3, "get_amount_out": [3, 8, 9, 10], "calcingivenout": 3, "calc_in_given_out": 3, "get_amount_in": [3, 8], "calcpooloutgivensinglein": 3, "calc_pool_out_given_single_in": 3, "join_swap_extern_amount_in": [3, 8], "calcsingleingivenpoolout": 3, "calc_single_in_given_pool_out": 3, "join_swap_pool_amount_out": [3, 8], "calcpoolingivensingleout": 3, "calc_pool_in_given_single_out": 3, "exit_swap_extern_amount_out": [3, 8], "calcsingleoutgivenpoolin": 3, "calc_single_out_given_pool_in": 3, "exit_swap_pool_amount_in": [3, 8], "os": [3, 21, 22, 28, 29, 31], "json": [3, 18], "numpi": [3, 6, 7, 18, 19, 21, 22, 23, 24, 28, 29, 31], "np": [3, 6, 7, 18, 19, 20, 21, 22, 23, 24, 28, 29, 31], "test": [3, 27, 33], "extract": 3, "cwd": [3, 21], "getcwd": [3, 21], "replac": [3, 15, 21], "chdir": [3, 21], "actions_json": 3, "resourc": [3, 4, 35], "dev": [3, 4, 5], "cwpt": [3, 8, 9], "0x8b6e6e7b5b3801fed2cafd4b22b8a16c2f2db21a": 3, "action": [3, 5], "open": 3, "r": [3, 6, 19, 20, 21, 22, 23], "pool_act": 3, "load": 3, "denorm": [3, 8, 13], "ar": [3, 4, 6, 7, 11, 13, 15, 19, 22, 26, 28, 35], "loos": 3, "select": [3, 8, 9, 10, 11], "target": 3, "percentag": 3, "deploy": 3, "normal": [3, 8], "sum": [3, 6, 7, 19], "typic": [3, 19], "initi": [3, 4, 6, 8, 9, 10, 11, 13, 15, 19, 23, 28, 31], "user": [3, 8, 9, 10, 11, 13, 15, 18, 30], "all": [3, 4, 5, 8, 9, 11, 16, 26, 28, 35], "join_pool": [3, 8, 9, 15, 18], "p": [3, 6, 7, 19, 20], "591": 3, "984912776992": 3, "swap_exact_amount_in": [3, 8], "11861": 3, "328308361": 3, "021734704865246": 3, "10011861": 3, "32830836": 3, "67718": 3, "61443839753": 3, "9": [3, 6, 17, 18, 20, 21, 22, 24, 29, 30, 33, 34], "swap_exact_amount_out": [3, 8], "11878": 3, "911104285744": 3, "9999982": 3, "417204075": 3, "11": [3, 6, 18, 21, 22, 24, 29, 30, 33, 34], "336": 3, "26": [3, 7, 18, 22, 28, 30], "741601415598677": 3, "03156505964916199": 3, "12": [3, 6, 18, 19, 20, 21, 22, 23, 24, 29, 30, 33, 34], "67765": 3, "377774518": 3, "03156505964917": 3, "13": [3, 6, 7, 18, 20, 22, 24, 29, 30, 34], "8575": 3, "568763821291": 3, "14": [3, 6, 18, 19, 20, 21, 22, 24, 28, 29, 30, 34], "76340": 3, "94653833928": 3, "110": 3, "15": [3, 6, 7, 18, 19, 20, 21, 22, 23, 24, 28, 29, 30, 34], "664": 3, "shares_out_amt": 3, "27": [3, 7, 19, 30], "036668416618735": 3, "031191445644352424": 3, "76313": 3, "90986992266": 3, "00037361400481": 3, "17": [3, 6, 18, 24, 28, 29, 30, 33, 34], "amt_shares_out": [3, 8], "8566": 3, "8415530723": 3, "18": [3, 4, 6, 13, 17, 18, 19, 20, 21, 22, 24, 28, 29, 30, 31, 34, 35], "67747": 3, "06831685036": 3, "welcom": 4, "world": [4, 12], "first": [4, 5, 28], "packag": [4, 5], "major": [4, 13, 15], "protocol": [4, 5, 11, 13, 15, 35], "integr": [4, 6, 28, 31, 35], "sinc": [4, 6], "built": 4, "modular": 4, "design": 4, "mind": 4, "you": [4, 12, 14, 35], "can": [4, 11, 12, 14, 26, 28, 31, 35], "silo": 4, "your": [4, 5], "balancerpi": [4, 8], "stableswappi": [4, 9], "For": [4, 6, 7, 13, 15, 28], "surveil": 4, "checkout": 4, "web3scout": 4, "These": [4, 28], "doc": [4, 5], "intend": 4, "anyon": 4, "who": [4, 35], "build": 4, "whether": [4, 5, 8, 9, 11], "trade": [4, 26, 30, 31, 34, 35], "aggreg": 4, "yield": 4, "trader": 4, "provid": [4, 5, 7, 10, 11, 12, 13, 14, 15], "founder": 4, "web": 4, "arbitrageur": 4, "amm": 4, "mathematician": 4, "curiou": 4, "individu": 4, "place": 4, "check": [4, 8, 9, 11, 12, 13, 16, 25, 31, 32], "quick": 4, "start": [4, 11, 24, 26, 29], "section": [4, 12, 13, 14, 15], "includ": [4, 5, 7, 12, 13, 14, 21, 22, 28, 35], "how": [4, 8, 9, 11, 13, 15, 20, 24, 26, 28, 29], "instal": 4, "project": 4, "wai": [4, 35], "work": [4, 26, 35], "either": [4, 10, 11, 30, 34, 35], "through": [4, 28, 31, 35], "api": [4, 21, 22, 29, 35], "It": [4, 11], "highli": 4, "recommend": 4, "consid": [4, 19, 28], "over": 4, "make": [4, 13, 15, 30, 34, 35], "essenti": 4, "tool": 4, "rapid": [4, 13, 15], "prototyp": [4, 13, 15], "decis": 4, "more": [4, 5, 6, 12, 13, 15, 35], "As": [4, 26, 35], "backbon": [4, 35], "variou": [4, 35], "framework": [4, 35], "analyz": [4, 35], "mock": [4, 35], "setup": [4, 5, 13, 15, 35], "we": [4, 6, 7, 11, 19, 20, 26, 28, 31, 35], "ve": [4, 35], "done": [4, 11, 35], "our": [4, 6, 7, 26, 28, 31, 35], "best": [4, 35], "maintain": [4, 6, 35], "origin": [4, 26, 35], "version": [4, 7, 13, 20, 33, 34, 35], "offer": [4, 13, 15, 35], "option": [4, 9, 10, 11, 35], "suit": [4, 35], "develop": [4, 35], "familiar": [4, 35], "want": [4, 19, 26, 35], "support": [4, 35], "analyst": [4, 35], "streamlin": [4, 13, 15, 35], "made": [4, 35], "avail": [4, 35], "overiew": [4, 35], "learn": [4, 12, 35], "visit": [4, 35], "refer": [4, 35], "left": [4, 6, 11, 24, 26, 28, 29, 31, 35], "menu": [4, 35], "descript": [4, 35], "exact": [4, 11, 30, 34, 35], "versa": [4, 35], "doubl": [4, 30, 34, 35], "side": [4, 20, 30, 34, 35], "uniswap": [4, 8, 9, 35], "v2": [4, 35], "v3": [4, 33, 35], "enter": [4, 35], "perform": [4, 13, 21, 22, 28, 30, 34, 35], "50": [4, 20, 28, 30, 31, 34, 35], "stableswap": [4, 5, 17], "withdraw": [4, 8, 11, 25, 30, 34, 35], "come": [4, 8, 9, 22, 30, 34, 35], "just": [4, 30, 34, 35], "portion": [4, 5, 10, 22, 28, 31, 35], "aquir": [4, 22, 35], "leav": [4, 30, 34, 35], "desir": [4, 6, 7, 10, 30, 34, 35], "quot": [4, 10, 25, 26, 28, 30, 32, 34, 35], "b": [4, 6, 7, 10, 19, 20, 21, 22, 23, 24, 26, 28, 29, 30, 31, 34, 35], "c": [4, 26, 28, 29, 30, 31, 34, 35], "usabl": [4, 35], "present": [4, 35], "human": [4, 7, 35], "form": [4, 35], "unless": [4, 35], "exampl": [4, 13, 15, 35], "format": [4, 9, 28, 31, 35], "machin": [4, 22, 25, 32, 35], "gwei": [4, 35], "3000000000000000000000": [4, 35], "3000": [4, 13, 15, 35], "q64": [4, 11, 35], "96": [4, 7, 11, 20, 35], "sqrt": [4, 6, 7, 11, 26, 28, 31, 35], "4339505179874779672736325173248": [4, 35], "have": [4, 5, 11, 26, 28, 35], "set": [4, 8, 9, 11, 13, 15, 26, 35], "toggl": [4, 35], "pipelin": [4, 35], "ani": [4, 5, 11, 35], "backend": [4, 35], "must": [5, 11, 28], "gmpy2": 5, "handl": [5, 22], "precis": [5, 25, 32], "within": [5, 8, 9, 11, 12, 13, 14, 15], "requir": [5, 13, 15, 31], "cpython": 5, "abov": [5, 6, 7, 19, 26, 28, 31], "latest": 5, "releas": 5, "pip": 5, "also": [5, 6, 8, 9, 10, 11], "mani": [5, 28], "case": [5, 11], "need": [5, 11, 12, 28], "librari": 5, "gmp": 5, "mpfr": 5, "mpc": 5, "alreadi": 5, "system": [5, 6, 26, 28, 31], "info": [5, 13], "onc": [5, 7], "git": 5, "clone": 5, "http": 5, "github": [5, 9], "com": 5, "cd": 5, "path": [5, 19, 23], "directori": 5, "permiss": 5, "herebi": 5, "grant": 5, "free": 5, "charg": 5, "person": 5, "obtain": 5, "softwar": 5, "associ": 5, "document": [5, 13, 15], "file": 5, "deal": 5, "without": 5, "restrict": 5, "limit": [5, 11], "right": [5, 6, 11, 26, 28, 31], "modifi": 5, "merg": 5, "publish": 5, "distribut": [5, 20, 21, 22, 25, 28], "sublicens": 5, "permit": 5, "whom": 5, "furnish": 5, "do": 5, "so": [5, 26], "subject": 5, "condit": 5, "copyright": 5, "notic": 5, "shall": 5, "substanti": 5, "THE": 5, "IS": 5, "AS": 5, "warranti": 5, "OF": 5, "kind": 5, "express": 5, "OR": 5, "impli": 5, "BUT": 5, "NOT": [5, 18], "TO": 5, "merchant": 5, "fit": 5, "FOR": 5, "A": [5, 6, 7, 10, 22, 28, 31], "particular": 5, "purpos": [5, 13, 15], "AND": 5, "noninfring": 5, "IN": 5, "NO": 5, "author": 5, "holder": [5, 10], "BE": 5, "liabl": 5, "claim": 5, "damag": 5, "liabil": 5, "tort": 5, "aris": 5, "connect": 5, "WITH": [5, 18], "medium": [6, 7, 20, 21, 22, 24, 29, 33, 34], "articl": [6, 7, 20, 21, 22, 24, 29], "In": [6, 7], "review": [6, 7], "matplotlib": [6, 7, 19, 20, 21, 22, 23, 24, 29], "pyplot": [6, 7, 19, 20, 21, 22, 23, 24, 29], "plt": [6, 7, 19, 20, 21, 22, 23, 24, 29], "user_intro": [6, 7], "eth_amount": [6, 7, 20, 26, 27, 28, 30, 31, 33, 34], "1000": [6, 7, 13, 15, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "dai_amount": [6, 7, 22, 26, 27, 33], "1000000": [6, 7, 26, 28], "eth": [6, 7, 13, 15, 20, 26, 27, 28, 30, 31, 33, 34], "uniswapexchangedata": [6, 7, 10, 11, 13, 15, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "tkn0": [6, 7, 13, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "tkn1": [6, 7, 13, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "uniswapfactori": [6, 7, 10, 11, 13, 15, 19, 20, 21, 22, 23, 26, 27, 28, 30, 31, 33, 34], "31622": [6, 7, 26, 28, 30], "776601683792": [6, 26, 28, 30], "formula": [6, 7], "l": [6, 7, 26, 31], "fee": [6, 7, 9, 10, 11, 13, 15, 20, 21, 22, 26, 27, 30, 31, 33, 34], "gamma": [6, 7, 21, 22, 26, 31], "003": 6, "frac": [6, 7, 21, 22, 26, 28, 31], "997": [6, 7, 26, 28, 31], "preserv": 6, "when": [6, 11, 19, 28, 31], "quad": [6, 7], "delta": [6, 7, 8, 9, 10, 11, 19, 20, 21, 22, 23, 26, 28, 31], "isol": 6, "after": [6, 7, 11, 21, 22, 27, 28, 30, 33, 34], "some": [6, 7, 8, 9, 26], "algebra": [6, 7], "dy": [6, 31], "dx": [6, 26, 28, 31], "5f": [6, 7, 26], "99601": [6, 7], "999": [6, 7, 30, 31, 34], "00399301896": 6, "1001000": [6, 7], "x2": 6, "y2": 6, "x_arr": 6, "arang": [6, 20, 21, 22], "990": [6, 30, 34], "1010": [6, 30, 34], "01": [6, 19, 21, 22, 23, 26, 27, 30, 33, 34], "y_arr": 6, "fig": [6, 19, 20, 21, 22, 23, 24, 29], "ax": [6, 20, 21, 22, 24, 29], "subplot": [6, 19, 20, 21, 22, 23, 24, 29], "nrow": [6, 19, 20, 21, 22, 23, 24, 29], "sharex": [6, 19, 20, 21, 22, 23, 24, 29], "sharei": [6, 19, 20, 21, 22, 23, 24, 29], "figsiz": [6, 19, 20, 21, 22, 23, 24, 29], "plot": [6, 21, 22, 24, 29], "color": [6, 19, 20, 21, 22, 23, 24, 28, 29, 31], "linestyl": [6, 19, 20, 21, 22, 23, 24, 29], "dashdot": [6, 20, 21, 22], "label": [6, 19, 20, 21, 22, 23, 24, 29], "invest": 6, "ro": 6, "g": [6, 11, 13, 15, 19, 21, 22], "hline": 6, "xmin": 6, "xmax": 6, "linewidth": [6, 19, 20, 21, 22, 23, 24, 29], "dash": [6, 19, 20, 21, 22, 23, 24, 29], "vline": 6, "ymin": 6, "ymax": 6, "annot": 6, "post": [6, 28, 31], "xytext": 6, "5000": [6, 24, 29], "arrowprop": 6, "dict": [6, 8, 9, 15], "facecolor": [6, 24, 29], "green": [6, 19, 20], "width": [6, 20, 26], "headwidth": 6, "headlength": 6, "pre": 6, "2000": [6, 13, 17, 18, 20, 21, 22, 26], "red": [6, 19, 20, 28], "set_titl": [6, 19, 20, 21, 22, 23, 24, 29], "curv": [6, 7], "fontsiz": [6, 19, 20, 21, 22, 23, 24, 29], "set_ylabel": [6, 19, 20, 21, 22, 23, 24, 29], "amt": [6, 10, 18, 19, 28, 31], "size": [6, 19, 20, 21, 22, 23, 26], "set_xlabel": [6, 19, 20, 21, 22], "set_xlim": 6, "set_ylim": [6, 21], "992000": 6, "1008000": 6, "19": [6, 18, 19, 20, 24, 26, 27, 28, 29, 30, 31, 33, 34], "while": [6, 13, 15, 22], "take": 6, "rh": 6, "deduct": 6, "both": [6, 7, 10, 26, 28], "2xy": 6, "dl": [6, 26, 31], "new_x": [6, 7], "new_i": [6, 7], "new_l": [6, 7], "updat": [6, 7, 8, 9, 10], "8f": [6, 7], "999000": [6, 7], "31591": [6, 7], "153825": [6, 7], "15382508211": [6, 7], "know": [6, 7, 26], "chang": 6, "simular": 6, "1001": [6, 7, 30], "31654": [6, 7, 30], "399378": [6, 7], "399378285478": [6, 30], "equat": [6, 26, 28, 31], "y_": [6, 7, 26, 28, 31], "s": [6, 11, 12, 13, 15, 19, 23, 26, 28, 31], "constitut": [6, 7], "total": [6, 7, 8, 9, 10, 11, 26, 28, 31], "known": [6, 7], "ws": [6, 7], "plug": [6, 7, 26, 28, 31], "ssw": 6, "fact": [6, 7], "solv": [6, 7, 25, 26], "quadrat": [6, 7, 26, 28, 31], "detail": [6, 12, 13, 14, 15], "inform": [6, 12, 14], "31606": [6, 7], "937511796754": [6, 7], "x_": [6, 7, 28], "sd": [6, 28], "alpha": [6, 20, 21, 22, 28, 31], "thu": [6, 31], "where": [6, 7, 26, 28, 31], "ratio": 6, "1000x": [6, 28], "1997": [6, 22, 28], "dep": [6, 28], "31638": 6, "56029234534": 6, "24": [7, 18, 23, 24, 28, 29, 30, 31], "univ3util": [7, 13, 20, 33, 34], "feeamount": [7, 20, 33, 34], "tick_spac": [7, 13, 20, 33, 34], "getmintick": [7, 13, 33, 34], "getmaxtick": [7, 13, 33, 34], "real": [7, 20, 33, 34], "0000000000001": [7, 34], "0000000001": 7, "gross": [7, 20, 33, 34], "776601683796": 7, "eq": [7, 26, 28, 31], "whitepap": 7, "give": 7, "p_": 7, "next": [7, 11], "q96": 7, "sqrtp_cur": 7, "slot0": 7, "sqrtpricex96": [7, 11], "convert": [7, 9], "sqrtp_next": 7, "28": [7, 27, 30], "confirm": 7, "actual": [7, 11], "0039930189602": 7, "00099801": 7, "29": [7, 26, 27, 30], "30": [7, 19, 20, 21, 22, 26, 27, 30], "996": 7, "00698": 7, "31": [7, 26, 27, 30], "6f": [7, 28, 31], "999003": 7, "9930189601": 7, "998": 7, "008978": 7, "32": [7, 26, 27, 30], "33": [7, 19, 26, 27, 30], "sqrtp_pa": 7, "tickmath": 7, "getsqrtratioattick": 7, "sqrtp_pb": 7, "dpx": 7, "dpy": 7, "dlx": 7, "000000": [7, 28, 31], "34": [7, 26, 27, 28, 30], "35": [7, 21, 22, 26, 27, 30], "36": [7, 26, 27, 30], "37": [7, 26, 27, 30], "39937828548": 7, "38": [7, 26, 27, 30], "w": [7, 24, 29], "39": [7, 20, 21, 22, 24, 26, 27, 29, 30], "937511796757": 7, "997l": 7, "41": [7, 26], "manual_balanc": 8, "factory_struct": [8, 9, 10, 11], "factorydata": [8, 9, 10, 11], "exchg_struct": [8, 9, 10, 11], "call": [8, 9, 11, 13, 15], "autom": [8, 9], "market": [8, 9, 19, 20, 21, 22, 23], "maker": [8, 9], "self": [8, 9, 19], "data": [8, 9, 10, 11, 13, 19, 20, 23], "burn": [8, 9, 10, 11, 19, 22], "_from": [8, 9, 10, 11], "number": [8, 19, 23], "request": [8, 9, 31], "exit_pool": 8, "exit": 8, "equival": [8, 9, 10], "base_tkn": [8, 9], "opp_tkn": [8, 9], "denomin": [8, 9, 11], "tkn_grvaultoup": 8, "balancererc20group": 8, "group": [8, 9, 18], "mint": [8, 9, 10, 11, 19, 22], "new_shar": [8, 9], "new": [8, 9, 10, 11, 13], "summar": 8, "current": [8, 9, 11, 20], "state": [8, 9, 22], "amt_swap": 8, "amt_fe": 8, "swape": [8, 9], "creat": [8, 9, 10, 11, 13, 15], "newli": [8, 9, 10, 11, 22], "get_exchang": [8, 9, 10, 11], "get_token": [8, 9, 10, 11, 18], "manag": [8, 9, 13, 15], "list": [8, 9, 13, 15, 19], "tkn_dic": [8, 9], "referenc": [8, 9], "tkn_denorm_wt": 8, "tkn_bound": 8, "indic": [8, 9, 11], "bound": 8, "bool": [8, 11], "check_tkn": [8, 9], "contain": [8, 9], "get_bal": [8, 9], "referen": [8, 9], "tkn_balanc": [8, 9, 18], "get_bound": 8, "norm_wts_dict": [8, 9], "get_denorm_weight": 8, "get_norm_weight": 8, "get_dict": [8, 9], "tkn_dict": [8, 9], "get_nam": [8, 9], "tkn_nm": [8, 9, 18, 21, 22, 27], "delimit": [8, 9], "hyphen": [8, 9], "string": [8, 9], "tkn_name": [8, 9], "retriev": [8, 9, 30, 34], "cwpquot": 8, "get_amount_from_shar": 8, "amount_shares_in": 8, "get_shares_from_amount": 8, "lp_amt": [8, 9], "erc": [8, 9, 10, 11, 13], "addr": [8, 9, 10, 11], "token_addr": [8, 9, 10, 11], "token_tot": [8, 9, 10, 11, 18], "valu": [8, 9, 10, 11, 18, 19, 20, 26], "transfer": [8, 9, 10, 11], "_to": [8, 9, 10, 11], "manual_stableswap": 9, "stableswapexchang": 9, "stableswapexchangedata": [9, 13, 15, 17, 18], "constant": [9, 26, 31], "product": [9, 26, 31], "add_liquid": [9, 10, 15, 18, 26, 28, 31], "tkn_amt_in": 9, "liquidity_out": 9, "get_math_pool": [9, 18], "underli": 9, "stableswappoolmath": 9, "math_pool": [9, 18], "curveresearch": 9, "stableswapvault": [9, 13, 17, 18], "ampl_coeff": [9, 13, 15, 17, 18], "stableswaperc20group": 9, "new_liquid": 9, "remove_liquid": [9, 10, 18], "liquidity_amt_out": 9, "use_fe": 9, "stableswapfactori": [9, 13, 15, 17, 18], "amt2dec": 9, "tkn_amt": [9, 19, 21, 22, 23], "decim": [9, 10, 11, 18], "get_decimal_amt": [9, 18], "decimal_amt": 9, "get_decim": 9, "get_rat": 9, "rate": [9, 31], "tkn_rate": 9, "csquot": 9, "reset": [9, 10, 11], "exchange_from_token": [10, 11], "tokens_from_exchang": [10, 11], "exchg": [10, 11], "factoryinit": [10, 11], "uniswapexchangeinit": [10, 11], "_from_addr": 10, "amountadesir": [10, 15], "amountbdesir": [10, 15], "amountamin": [10, 15], "amountbmin": [10, 15], "minimum": [10, 11], "to_addr": 10, "amounta": 10, "amountb": 10, "coin": 10, "est": 10, "reserve0": [10, 21, 26, 28, 31], "reserve1": [10, 21, 26, 28, 31], "maximum": 10, "get_amount_out0": 10, "get_amount_out1": 10, "get_fe": [10, 21, 22], "last": [10, 11], "get_last_liquidity_deposit": [10, 11], "went": [10, 11], "get_liquidity_from_provid": [10, 11, 21, 22], "provider_account": [10, 11], "_amounta": 10, "_amountb": 10, "each": 10, "reservea": 10, "reserveb": 10, "amounta_out": 10, "amountb_out": 10, "swap_exact_tokens_for_token": 10, "amountin": 10, "amountoutmin": 10, "min": [10, 19], "expect": [10, 21, 22, 28, 30, 34], "update_reserv": 10, "amounta_upd": 10, "amountb_upd": 10, "acccount": 10, "lperc20": [10, 11], "daosi": [10, 11], "type": [10, 11, 19], "add_token_lp": [10, 11], "remove_token_lp": [10, 11], "set_token_lp": [10, 11], "uniswapv3exchang": 11, "recipi": 11, "ticklow": 11, "tickupp": 11, "sender": 11, "ow": 11, "trigger": 11, "recalcul": 11, "collect": [11, 21, 22], "separ": 11, "much": [11, 26], "token0": [11, 13, 15, 28], "neg": 11, "token1": [11, 13, 15, 26, 28, 31], "checktick": 11, "common": [11, 13, 15], "valid": [11, 26], "amount0request": 11, "amount1request": 11, "doe": [11, 18], "recomput": 11, "earn": 11, "owner": 11, "mai": 11, "zero": [11, 24, 29], "caller": 11, "pass": [11, 18, 19, 22], "greater": 11, "than": 11, "e": [11, 13, 15], "uint128": 11, "max": [11, 19], "accumul": 11, "should": [11, 28], "paid": 11, "get_virtual_reserv": 11, "virtual": 11, "final": [11, 25], "automat": 11, "swapper": 11, "due": 11, "depend": 11, "nexttick": 11, "lte": 11, "assum": [11, 21, 22, 26], "kei": [11, 13], "min_tick": 11, "max_tick": 11, "alwai": 11, "don": 11, "t": [11, 21, 22], "run": [11, 24, 28, 29, 31], "risk": 11, "overshoot": 11, "ticknext": 11, "boundari": 11, "long": 11, "been": [11, 31], "howev": [11, 26, 28], "Then": 11, "init": 11, "search": 11, "less": 11, "equal": [11, 28], "function": [11, 29], "setfeeprotocol": 11, "feeprotocol0": 11, "feeprotocol1": 11, "zeroforon": 11, "amountspecifi": 11, "sqrtpricelimitx96": 11, "end": [11, 28, 31], "direct": [11, 21, 22], "implicitli": 11, "configur": [11, 13], "If": 11, "cannot": 11, "swap0forexact1": 11, "sqrtpricelimit": 11, "swapexact0for1": 11, "highest": 11, "directli": 11, "swap1forexact0": 11, "swapexact1for0": 11, "content": [12, 14], "subpag": 12, "locat": [12, 14], "subsect": [12, 13, 14, 15], "page": [12, 14], "about": [12, 14], "topic": [12, 14], "text": [12, 14, 20, 21, 22, 24, 29], "imag": [12, 14, 26], "restructuredtext": [12, 14], "element": [12, 14], "block": [12, 13], "def": [12, 19, 26, 28, 31], "hello_world": 12, "hello": 12, "describ": 12, "someth": 12, "subpage2": 12, "relat": 12, "note": 12, "highlight": [12, 28], "outlin": [13, 15, 26, 31], "method": 13, "util": [13, 15, 20, 24, 29], "across": [13, 15, 19, 22], "defi": [13, 15, 35], "simplifi": [13, 15], "high": [13, 15], "level": [13, 15], "oper": [13, 15, 28], "ideal": [13, 15], "analyt": [13, 15, 35], "demonstr": [13, 15], "drawn": [13, 15], "creation": [13, 15], "control": [13, 15, 21, 22], "task": [13, 15], "partial": [13, 15], "reflect": [13, 15], "up": [13, 15, 26], "repres": 13, "defin": [13, 25], "usag": 13, "encapsul": 13, "exch_data": 13, "0x3": 13, "instanc": [13, 15], "facilit": [13, 15], "step": [13, 19, 23, 25], "0x999": 13, "like": [13, 15], "alic": [13, 15], "100000": [13, 15, 21, 22, 27, 30, 31, 33, 34], "full": 13, "shine": [13, 15], "complex": [13, 15], "rang": [13, 15, 19, 20, 21, 22, 23, 24, 29], "0x811": 13, "60": 13, "execut": [13, 15], "2a": 13, "0x93": 13, "tier": 13, "2b": 13, "custom": 13, "univ3help": [13, 20, 27, 31, 33], "amt_tkn": [13, 22, 30, 34], "get_price_tick": [13, 20], "multi": [13, 15], "show": [13, 15], "could": [13, 15], "leverag": [13, 15], "denorm_weight": 13, "bsp": 13, "proportion": [13, 15], "usdc": [13, 15, 16, 17, 21, 22, 27, 28], "20000": 13, "factor": [13, 19], "issu": 13, "concis": [13, 15], "optim": [13, 15], "stablecoin": [13, 15, 21, 22], "particularli": [13, 15], "adapt": [13, 15], "ssp": 13, "amplif": 13, "coeffici": 13, "low": [13, 15], "slippag": [13, 15], "0x222": 13, "sgrp": [13, 17, 18], "uniswapv2": 15, "from_addr": 15, "90": [15, 22], "90000": 15, "uniswapv3pool": 15, "190000": 15, "200000": 15, "500": [15, 19, 20, 23], "300": [15, 26], "200": 15, "amt_in": 15, "usdt": [16, 17, 21, 22, 27], "79566307": [17, 18], "559825807715868071": [17, 18], "decimal_dai": [17, 18], "amt_usdc": [17, 18], "81345068": [17, 18], "187939": [17, 18], "decimal_usdc": [17, 18], "amt_usdt": [17, 18], "55663250": [17, 18], "772939": [17, 18], "decimal_usdt": [17, 18], "0xa0b": [17, 18], "0xf93": [17, 18], "0xd7c": [17, 18], "sfactori": [17, 18], "55982581": [17, 18], "216573027": [17, 18], "91811988": [17, 18], "usdc_befor": [17, 18], "usdt_befor": [17, 18], "81355068": [17, 18], "55653253": [17, 18], "910191": [17, 18], "9996": [17, 18], "862748": [17, 18], "dai_befor": [17, 18], "79556308": [17, 18], "6645169": [17, 18], "81365068": [17, 18], "9998": [17, 18], "895308918858": [17, 18], "liquidity_amt_in": [17, 18], "55663253": [17, 18], "216583028": [17, 18], "83723688": [17, 18], "919116999057": [17, 18], "79566308": [17, 18], "216593027": [17, 18], "8056816": [17, 18], "968444705135": [17, 18], "amt_lp_out": [17, 18], "250000": [17, 18], "lp_amt_befor": [17, 18], "total_suppli": [17, 18, 20, 26, 31], "79316306": [17, 18], "72151607": [17, 18], "216343027": [17, 18], "250001": [17, 18], "94300082736": [17, 18], "500000": [17, 18], "55163356": 17, "268067": 17, "215843027": [17, 18], "499897": 17, "642124": 17, "p_usdc_dai": 18, "p_dai_usdc": 18, "9999896456022903": 18, "0000103545049244": 18, "leak": 18, "usdc_check": 18, "usdt_check": 18, "usdc_test": 18, "els": [18, 19, 20, 26, 28, 31], "fail": [18, 19], "usdt_test": 18, "dai_check": 18, "dai_test": 18, "lp_amt_check": 18, "lp_amt_test": 18, "500009": 18, "469211": 18, "80865058": 18, "718728": 18, "499898": 18, "496234": 18, "21": [18, 20, 23, 24, 28, 29, 30, 31], "55163355": 18, "413957": 18, "215343027": 18, "22": [18, 22, 23, 24, 28, 29, 30, 31], "tkn_decimal_amt": 18, "23": [18, 19, 23, 24, 26, 28, 29, 30, 31], "lp_test": 18, "round": [18, 19], "enumer": [18, 20], "tkn_reserv": 18, "tkn_math_pool_bal": 18, "token_decim": 18, "assert": 18, "error": 18, "match": 18, "datetim": [19, 21, 22, 23, 24, 29], "mintabl": 19, "burnabl": 19, "dex": 19, "environ": 19, "four": 19, "situat": 19, "per": [19, 31], "figur": [19, 20, 21, 22, 24, 29], "panda": [19, 20, 21, 22, 24, 29], "pd": [19, 20, 21, 22, 24, 29], "termcolor": [19, 28, 31], "tokenst": 19, "__init__": 19, "stochast": [19, 22], "current_st": 19, "gen_stat": 19, "n": [19, 28, 31], "next_stat": [19, 22], "get_state_df": 19, "gen_trans_matrix": 19, "dot": 19, "arrai": [19, 21, 22, 24, 29], "append": [19, 20, 21, 22, 23], "axi": [19, 20, 24, 29], "update_current_st": 19, "stat_cat": 19, "held": [19, 22], "get_current_st": [19, 22], "colnm": 19, "df_state": 19, "iloc": 19, "state_arr": 19, "len": [19, 20, 21, 22], "datafram": [19, 20], "column": [19, 20], "dheld": [19, 22], "insert": 19, "diff": 19, "dlp": 19, "dburn": [19, 22], "scale_x": 19, "rbeta": 19, "mx": 19, "mn": 19, "beta": 19, "p_stochast": 19, "81": 19, "99": [19, 21, 22, 30, 33, 34], "p_determinist": 19, "02": 19, "inspect_st": [19, 22], "tail": [19, 22], "num_stat": [19, 22], "dfdistrlp1": 19, "head": 19, "check_stat": [19, 22], "dfdistrlp": 19, "states_balanc": 19, "test_outcom": 19, "attr": [19, 28], "bold": [19, 28], "retain": [19, 22], "instanti": [19, 23], "n_step": [19, 20, 23, 24, 29], "start_pric": [19, 20, 23, 24, 29], "sy": [19, 23, 24, 29], "usd": [19, 20, 21, 22, 23, 24, 29], "mu": [19, 20, 23, 24, 29], "sigma": [19, 20, 23, 24, 29], "n_path": [19, 20, 23, 24, 29], "seconds_year": [19, 21, 22, 23], "31536000": [19, 21, 22, 23], "brownian": [19, 20, 23], "model": [19, 23], "bm": [19, 23], "brownianmodel": [19, 20, 23, 24, 29], "p_arr": [19, 20, 21, 22, 23, 24, 29], "gen_gbm": [19, 20, 23, 24, 29], "flatten": [19, 23], "dt": [19, 21, 22, 23], "timedelta": [19, 21, 22, 23, 24, 29], "second": [19, 21, 22, 23], "date": [19, 21, 22, 23], "strptime": [19, 21, 22, 23], "2024": [19, 21, 22, 23], "09": [19, 21, 22, 23, 31], "m": [19, 21, 22, 23], "d": [19, 21, 22, 23], "user0": [19, 21, 22, 23, 28, 31, 34], "finite_tkn_amt": 19, "market_tkn_amt": 19, "ftkn_nm": 19, "ftkn": 19, "mtkn_nm": 19, "mtkn": 19, "lp_state": 19, "finite_tkn": 19, "market_tkn": 19, "3162": [19, 23], "2776601683795": [19, 23], "arb": [19, 20, 21, 22, 23], "correctreserv": [19, 20, 21, 22, 23], "x0": [19, 20, 21, 22, 23], "mint_finite_tkn_deposit": 19, "pftkn_mtkn_arr": 19, "lp_diff_amt": 19, "elif": [19, 20, 22], "ab": [19, 22], "rebal": [19, 23], "captur": [19, 21, 22, 23], "6598": 19, "691296789867": 19, "63776": 19, "91280880583": 19, "20158": 19, "66942286726": 19, "496": 19, "813804": 19, "1356": 19, "778473": 19, "4867": 19, "921848": 19, "3943": 19, "407200": 19, "378": 19, "681855": 19, "371": 19, "177034": 19, "009592": 19, "497": 19, "960313": 19, "1568": 19, "435538": 19, "4655": 19, "733806": 19, "3944": 19, "751981": 19, "211": 19, "657065": 19, "212": 19, "188043": 19, "344781": 19, "498": 19, "209319": 19, "1202": 19, "903295": 19, "5011": 19, "126549": 19, "3971": 19, "851793": 19, "365": [19, 24, 29], "532243": 19, "355": 19, "392743": 19, "099812": 19, "499": 19, "570480": 19, "1280": 19, "700284": 19, "4952": 19, "715929": 19, "3975": 19, "674743": 19, "77": 19, "796989": 19, "58": 19, "410620": 19, "822950": 19, "623355": 19, "1249": 19, "738985": 19, "4965": 19, "214933": 19, "4008": 19, "707518": 19, "961299": 19, "499004": 19, "032775": 19, "lpool": 19, "mint_ax": 19, "hold_ax": 19, "lp_ax": 19, "burn_ax": 19, "suptitl": [19, 21, 22], "breakdown": 19, "time": [19, 20, 22], "unit": [19, 22], "blue": 19, "black": [19, 20, 21, 22], "tight_layout": [19, 20], "tkn_ax": [19, 21, 22, 23], "global": [19, 23], "scatter": [19, 23], "marker": [19, 23], "o": [19, 23], "comparison": [19, 21, 22, 23], "legend": [19, 20, 21, 22, 23, 24, 29], "grid": [19, 21, 22, 23], "seaborn": [20, 21, 22], "sn": [20, 21, 22], "mockaddress": 20, "tkn_amount": [20, 21, 22, 27, 30, 31, 34], "geometr": 20, "motion": 20, "exp_p_arr": [20, 24, 29], "median": [20, 24, 29], "70469739529014": 20, "6440": 20, "3320664241655": 20, "p_interv": 20, "800": 20, "1200": 20, "1500": 20, "1700": 20, "lp_price": 20, "lp_liquid": 20, "lp_swap": 20, "lp_net_deposit": 20, "select_tkn": 20, "bi_select": 20, "rnd_add_amt": 20, "rnd_swap_amt": 20, "user_add": 20, "random": [20, 21, 22], "choic": 20, "user_swap": 20, "614127": 20, "7691542099": 20, "17821512": 20, "609132715": 20, "35165267": 20, "83386152": 20, "df_liq": 20, "po": 20, "tick_to_pric": 20, "liq": 20, "liquiditygross": 20, "loc": [20, 24, 29], "center_po": 20, "price_to_tick": 20, "sort_valu": 20, "inplac": 20, "reset_index": 20, "drop": 20, "side_arr": 20, "ask": 20, "bid": 20, "center": 20, "idx": 20, "17940": 20, "012919": 20, "50341": 20, "631295": 20, "18120": 20, "122126": 20, "22053": 20, "081205": 20, "18180": 20, "158967": 20, "16493": 20, "867865": 20, "18300": 20, "233316": 20, "154124": 20, "547473": 20, "18420": 20, "308563": 20, "1242": 20, "862215": 20, "192": 20, "29640": 20, "372447": 20, "1834": 20, "850559": 20, "193": 20, "29700": 20, "489025": 20, "454": 20, "070649": 20, "194": 20, "29820": 20, "724291": 20, "106": [20, 21], "278197": 20, "195": 20, "29940": 20, "962396": 20, "205": 20, "903139": 20, "196": 20, "30480": 20, "069945": 20, "774698": 20, "row": 20, "current_pric": 20, "book_ax": 20, "price_ax": 20, "liq_ax": 20, "bar": 20, "steelblu": 20, "0005": [20, 21, 22], "axvlin": 20, "mediumvioletr": 20, "x_val": [20, 21, 22], "sampl": [20, 24, 29], "lt": [20, 21, 22, 24, 29], "1000x500": 20, "gt": [20, 21, 22, 24, 29], "distplot": [20, 21, 22], "hist": [20, 21, 22], "kde": [20, 21, 22], "bin": [20, 21, 22], "darkblu": [20, 21, 22], "hist_kw": [20, 21, 22], "edgecolor": [20, 21, 22], "kde_kw": [20, 21, 22], "histogram": 20, "net": 20, "volum": [20, 21], "frequenc": [20, 21, 22], "scatterplot": 20, "hue": 20, "palett": [20, 24, 29], "depth": 20, "chart": [20, 21, 22], "ecdfplot": 20, "stat": [20, 21, 22], "count": 20, "complementari": 20, "queri": 20, "assumpt": [21, 22], "imperman": [21, 22], "loss": [21, 22], "infinit": 21, "suppli": [21, 22, 26, 31], "iusdc": [21, 22, 27], "scipi": [21, 22], "statsmodel": [21, 22], "sm": [21, 22], "medium_articl": 21, "init_tkn_lp": [21, 22], "tkn_delta_param": [21, 22], "tkn_invest_amt": [21, 22], "itkn_nm": [21, 22, 27], "usdt_nm": [21, 27], "iusdt_nm": [21, 27], "iusdt": [21, 22, 27], "n_sim_run": [21, 22], "shape": [21, 22], "scale": [21, 22], "n_run": [21, 22], "usd_ax": [21, 22, 24, 29], "usdt_amount": [21, 27], "usdt1": [21, 27], "ivault1": [21, 22, 27], "indexvault": [21, 22, 27], "0x7": [21, 22, 27], "tkn2": [21, 22, 23, 27, 30], "itkn1": [21, 22, 27], "indexerc20": [21, 22, 27], "exchg_data1": [21, 22, 27], "lp1": [21, 22, 27], "0x012": [21, 22, 27, 30], "jointre": [21, 22, 27], "110000": [21, 22, 34], "109982": 21, "55020786705": 21, "9972": [21, 22], "071706380655": 21, "4809": 21, "500300278058": 21, "6925": 21, "36510707068": 21, "tkn_invest": [21, 22], "invested_user_nm": [21, 22], "invested_us": [21, 22], "swapindexmint": [21, 22], "mint_itkn1_deposit": [21, 22], "convert_to_human": [21, 22], "index_token": [21, 22], "last_lp_deposit": [21, 22], "lp_invest_track": [21, 22], "lp1_invest_track": [21, 22], "redeem": [21, 22], "tkn_redeem_par": [21, 22], "itkn_redeem_child": [21, 22], "tkn_redeem_tre": [21, 22], "3f": [21, 22], "1f": [21, 22], "immedi": [21, 22], "pull": [21, 22], "110100": [21, 22], "110032": 21, "45583580383": 21, "4859": 21, "405928214833": 21, "6961": 21, "1489588849345": 21, "700": [21, 22], "49": [21, 22], "906": 21, "403": [21, 22], "784": 21, "arb1": [21, 22], "lp_direct_invest_arr": [21, 22], "lp1_direct_invest_arr": [21, 22], "lp1_tree_invest_arr": [21, 22], "ptkn_usdt_arr": 21, "ptkn_itkn_arr": [21, 22], "fee_lp_arr": [21, 22], "fee_lp1_arr": [21, 22], "arbitrag": [21, 22], "p_lp1": 21, "conserv": [21, 22], "treeamountquot": [21, 22], "get_tot_i": [21, 22], "149152": 21, "43424879533": 21, "145484": 21, "9365428984": 21, "139003": 21, "15033667785": 21, "12226": 21, "673882800053": 21, "5686": 21, "2825516738585": 21, "7560": 21, "236409074802": 21, "919": 21, "114": 21, "877": 21, "usdt_ax": 21, "strt_pt": [21, 22], "lowess": [21, 22], "nonparametr": [21, 22], "sm_lp_direct": [21, 22], "sm_lp1_direct": [21, 22], "sm_lp1_tree": [21, 22], "strt_ind": [21, 22], "p_ax": [21, 22, 24, 29], "80": 21, "140": 21, "befor": [21, 22], "worth": [21, 22, 26, 27, 30, 33, 34], "000": [21, 22], "105": 21, "966": 21, "113112280374347202560": 21, "116": 21, "191": 21, "fee_lpb": [21, 22], "fee_lpa": [21, 22], "fill_between": [21, 22], "repeat": [21, 22], "titl": [21, 22], "cumul": [21, 22], "ylabel": [21, 22], "0x16a8017e0": 21, "finit": 22, "usd_nm": 22, "iusd_nm": 22, "dai1": 22, "tkn_amt_arb": 22, "lp1_state": 22, "markovst": 22, "109988": 22, "82515648747": 22, "071706380651": 22, "5003": 22, "621418712864": 22, "7063": 22, "743453650251": 22, "110038": 22, "73363174185": 22, "5053": 22, "529893967241": 22, "7098": 22, "831802880604": 22, "908": 22, "088": 22, "ptkn_dai_arr": 22, "amt_arb1": 22, "update_st": 22, "mint_tkn1_amt": 22, "vault_lp1_amt": 22, "dvault": 22, "burned_itkn1_amt": 22, "total_tkn_w_swap": 22, "itkn": 22, "remaind": 22, "price_tkn": 22, "outsid": 22, "held_token": 22, "tradable_itkn1_amt": 22, "171393": 22, "9925275301": 22, "171267": 22, "56261415375": 22, "163210": 22, "91402568494": 22, "28546": 22, "788191959484": 22, "14217": 22, "580396607946": 22, "16978": 22, "544568119345": 22, "104": 22, "648": 22, "122": 22, "904": 22, "1996": 22, "576565": 22, "5943": 22, "910541": 22, "15466": 22, "301221": 22, "79645": 22, "820358": 22, "1070": 22, "362693": 22, "1153": 22, "353402": 22, "676558": 22, "135150": 22, "4332": 22, "885622": 22, "17110": 22, "617010": 22, "79735": 22, "106052": 22, "1611": 22, "024919": 22, "1644": 22, "315789": 22, "89": 22, "285695": 22, "1998": 22, "404537": 22, "5553": 22, "044202": 22, "15914": 22, "494886": 22, "79737": 22, "204747": 22, "1220": 22, "158580": 22, "1196": 22, "122124": 22, "098695": 22, "1999": 22, "147774": 22, "5837": 22, "010759": 22, "15575": 22, "717343": 22, "79799": 22, "420270": 22, "283": 22, "966557": 22, "338": 22, "777543": 22, "62": 22, "215523": 22, "63": [22, 26], "571901": 22, "5424": 22, "658124": 22, "15974": 22, "391541": 22, "79822": 22, "246482": 22, "412": 22, "352635": 22, "398": 22, "674198": 22, "826212": 22, "dai_ax": [22, 24, 29], "y1_samp": 22, "rv": 22, "430": 22, "117": 22, "719": 22, "696": 22, "xlabel": 22, "0x2866aea10": 22, "tkn1_amount": 23, "tkn2_amount": 23, "tkn1_nm": 23, "tkn2_nm": 23, "ptkn1_tkn2_arr": 23, "931": 23, "2998693040525": 23, "16330": 23, "8976587654": 23, "3740": 23, "037906127559": 23, "decentr": [24, 29], "financ": [24, 29], "pymc": [24, 29], "t_delta": [24, 29], "linspac": [24, 29], "num": [24, 29], "2023": [24, 29], "date_tim": [24, 29], "gca": [24, 29], "gp": [24, 29], "plot_gp_dist": [24, 29], "transpos": [24, 29], "cool": [24, 29], "plot_sampl": [24, 29], "white": [24, 29], "sysusd": [24, 29], "gbm": [24, 29], "lightgrai": [24, 29], "0x280a50790": 24, "sys_arr": [24, 29], "float64": [24, 29], "x_amt_arr": [24, 29], "y_amt_arr": [24, 29], "trial": [24, 29], "p_trial_arr": [24, 29], "lp_sim": [24, 29], "simplelpsimul": [24, 29], "init_amt": [24, 29], "create_lp": [24, 29], "get_tkn_price_sim": [24, 29], "get_x_amt_sim": [24, 29], "get_y_amt_sim": [24, 29], "sys_ax": [24, 29], "mean": [24, 29], "problem": 25, "solut": [25, 26, 28], "naiv": 25, "approach": 25, "classic": 25, "tree": 25, "config": 25, "ipython": 26, "displai": 26, "home": 26, "let": [26, 28, 31], "2l": 26, "substitut": 26, "2x": 26, "henc": [26, 31], "nbsphinx": 26, "sim": 26, "likewis": 26, "logic": 26, "ok": 26, "small": 26, "lp_posit": 26, "naive_approxim": 26, "napproach": 26, "316": 26, "22777": 26, "00000": 26, "larg": 26, "77660": 26, "complet": 26, "off": 26, "indexed_tkn": 26, "png": 26, "height": 26, "definit": [26, 31], "r0": [26, 31], "r1": [26, 31], "a0": [26, 31], "a1": [26, 31], "linear": [26, 31], "i": [26, 31], "calc_tkn_settl": 26, "dy1": 26, "dy2": 26, "delta_l": 26, "delta_eth": 26, "delta_dai": 26, "06315": 26, "15068": 26, "settlement_lp_tkn": 26, "now": [26, 28, 31], "rearrang": [26, 31], "reduc": [26, 28, 31], "1000xy": [26, 31], "1000l": [26, 31], "calc_lp_settl": [26, 31], "a2": [26, 31], "14969": 26, "delta_eth_lp": 26, "delta_dai_lp": 26, "mechanisim": 26, "back": 26, "against": [26, 28], "indexed_approach": 26, "2f": [26, 28], "00": 26, "87": 26, "pretti": 26, "close": 26, "try": 26, "78": 26, "excel": 26, "42": 26, "43": 26, "0158351449592624": 26, "vet": [27, 33], "user_machine_check": [27, 33], "dec2gwei": [27, 33], "type_gwei": [27, 33], "1000000000000000000000": 27, "100000000000000000000000": 27, "10000000000000000000000": [27, 33], "1010000000000000000000": 27, "101000000000000000000000": 27, "10100000000000000000000": [27, 33], "900000000000000000000": 27, "90000000000000000000000": 27, "9000000000000000000000": [27, 33], "990128419656029387011": 27, "989999999999999999241": 27, "9949799447405356572672": 27, "p_eth": [27, 30, 33, 34], "p_dai": [27, 33], "1000000000000000000": [27, 33], "9969900600091018": 27, "99600698103990321650": 27, "199690059907017973": 27, "9969005990701797e": 27, "109999999999999999072351": 27, "109999999999999999072352": 27, "109984620658241662373796": 27, "9972071706380652773376": 27, "4873552747221099553490": 27, "6971328242172880813044": 27, "usdc_amount": 28, "under": 28, "incom": 28, "fund": 28, "achiev": 28, "ensur": 28, "s_": 28, "begin": [28, 31], "tag": [28, 31], "why": 28, "consider": 28, "niniti": [28, 31], "s_in": 28, "s_out": 28, "nlp": [28, 31], "balance0": 28, "balance1": 28, "along": 28, "ntotal": 28, "unaccount": 28, "split": [28, 31], "1050": [28, 31], "952517": 28, "026241844": 28, "1100": [28, 31, 34], "997874": 28, "9798724081": 28, "33128": 28, "623106525876": 28, "47482": 28, "973758155924": 28, "2125": 28, "02012759191": 28, "97": [28, 31], "a1_out": 28, "instead": 28, "102": 28, "imbal": 28, "proper": 28, "correct": [28, 31], "calc_deposit_dist": 28, "calc_deposit_port": 28, "token_from_exchang": 28, "tkn_suppli": 28, "distrbut": 28, "4888217399419355": 28, "684341886080802e": 28, "compar": [28, 31], "1048": [28, 31], "8821739941936": 28, "953529": 28, "2490856305": 28, "33163": 28, "92929950274": 28, "48": [28, 31], "88217399419355": 28, "46470": 28, "75091436945": 28, "51": [28, 31], "11782600580645": 28, "882174": 28, "117826": 28, "warn": 29, "pytensor": 29, "tensor": 29, "bla": 29, "0x1649c3dc0": 29, "expected_amount_out": [30, 34], "9994": [30, 34], "991239989282": [30, 34], "1284196560293": [30, 34], "101000": [30, 34], "99012": [30, 34], "84196560294": [30, 34], "lp_tkn": 30, "0x112": 30, "lp_tkn_amount": 30, "lp2": 30, "ethtkn": 30, "10100": [30, 34], "9990": 30, "039930189601": 30, "100100": [30, 34], "10001": 30, "100010": 30, "31625": 30, "93887934396": 30, "10010": 30, "99900": [30, 34], "10004": [30, 34], "991241237401": 30, "1004": 30, "980069557936": 30, "upon": [30, 34], "994": 30, "9799447405356": 30, "p_tkn": [30, 34], "009969900600091019": 30, "60069810399033": 30, "19969005990701796": 30, "969005990701795": 30, "amt_eth_lp": [30, 34], "amt_tkn_lp": [30, 34], "00876001071831": 30, "05007523748156423": 30, "mth": 31, "user_nm1": 31, "p_out": 31, "removeliq": 31, "Of": 31, "ha": 31, "10488": 31, "088481701516": 31, "95454": 31, "54545454546": 31, "10011": 31, "35718707872": 31, "1002": 31, "4094194662908": 31, "47": 31, "590581": 31, "gwei2dec": 31, "eth_amt": 31, "488": 31, "787567": 31, "587935447692871e": 31, "reconsid": 31, "redefin": 31, "therefor": 31, "solver": 31, "calc_port": 31, "calc_withdraw_port": 31, "aswap": 31, "512645": 31, "735527472211": 31, "95339": 31, "59340656463": 31, "9999": 31, "300914574962": 31, "9999999999999": 31, "264473": 31, "735527": 31, "300914574964": 31, "out_v3": 33, "999999999999999999457": 33, "99999999999999999999457": 33, "1009999999999999999452": 33, "100999999999999999999452": 33, "899999999999999999512": 33, "89999999999999999999512": 33, "990128419656029386469": 33, "100999999999999999999457": 33, "989999999999999967775": 33, "9949799447405356417024": 33, "99999999999999": 33, "9969900600093062": 33, "960069810398763e": 33, "9969005990709152e": 33, "9905136039497507e": 33, "11000": 34, "99000": 34, "9900": 34, "00000001659": 34, "991244978852": 34, "1009": 34, "9999999867499": 34, "10049": 34, "801066245287": 34, "00000000001": 34, "009969900600093062": 34, "60069810398764": 34, "9969005990709153e": 34, "9905136039497506e": 34, "008760010717809e": 34, "007523748208768e": 34}, "objects": {"balancerpy": [[8, 0, 0, "-", "erc"], [8, 0, 0, "-", "vault"]], "balancerpy.erc": [[8, 1, 1, "", "ERC20"]], "balancerpy.erc.ERC20": [[8, 2, 1, "", "deposit"], [8, 2, 1, "", "transfer"]], "balancerpy.vault": [[8, 1, 1, "", "BalancerVault"]], "balancerpy.vault.BalancerVault": [[8, 2, 1, "", "add_token"], [8, 2, 1, "", "check_tkn"], [8, 2, 1, "", "get_balances"], [8, 2, 1, "", "get_bounds"], [8, 2, 1, "", "get_denorm_weights"], [8, 2, 1, "", "get_dict"], [8, 2, 1, "", "get_name"], [8, 2, 1, "", "get_names"], [8, 2, 1, "", "get_norm_weights"], [8, 2, 1, "", "get_token"], [8, 2, 1, "", "get_tokens"]], "": [[8, 0, 0, "module-0", "manual_balancer"], [9, 0, 0, "module-0", "manual_stableswap"]], "manual_balancer": [[8, 1, 1, "", "BalancerExchange"], [8, 1, 1, "", "BalancerFactory"], [8, 1, 1, "", "CWPQuote"]], "manual_balancer.BalancerExchange": [[8, 2, 1, "", "burn"], [8, 2, 1, "", "exit_pool"], [8, 2, 1, "", "exit_swap_extern_amount_out"], [8, 2, 1, "", "exit_swap_pool_amount_in"], [8, 2, 1, "", "get_amount_in"], [8, 2, 1, "", "get_amount_out"], [8, 2, 1, "", "get_price"], [8, 2, 1, "", "get_reserve"], [8, 2, 1, "", "join_pool"], [8, 2, 1, "", "join_swap_extern_amount_in"], [8, 2, 1, "", "join_swap_pool_amount_out"], [8, 2, 1, "", "mint"], [8, 2, 1, "", "summary"], [8, 2, 1, "", "swap"], [8, 2, 1, "", "swap_exact_amount_in"], [8, 2, 1, "", "swap_exact_amount_out"]], "manual_balancer.BalancerFactory": [[8, 2, 1, "", "deploy"], [8, 2, 1, "", "get_exchange"], [8, 2, 1, "", "get_token"]], "manual_balancer.CWPQuote": [[8, 2, 1, "", "get_amount_from_shares"], [8, 2, 1, "", "get_shares_from_amount"]], "manual_stableswap": [[9, 1, 1, "", "CSQuote"], [9, 1, 1, "", "StableswapExchange"], [9, 1, 1, "", "StableswapFactory"]], "manual_stableswap.CSQuote": [[9, 2, 1, "", "get_lp_from_amount"]], "manual_stableswap.StableswapExchange": [[9, 2, 1, "", "add_liquidity"], [9, 2, 1, "", "burn"], [9, 2, 1, "", "get_amount_out"], [9, 2, 1, "", "get_math_pool"], [9, 2, 1, "", "get_price"], [9, 2, 1, "", "get_reserve"], [9, 2, 1, "", "join_pool"], [9, 2, 1, "", "mint"], [9, 2, 1, "", "remove_liquidity"], [9, 2, 1, "", "summary"], [9, 2, 1, "", "swap"]], "manual_stableswap.StableswapFactory": [[9, 2, 1, "", "deploy"], [9, 2, 1, "", "get_exchange"], [9, 2, 1, "", "get_token"]], "stableswappy": [[9, 0, 0, "-", "erc"], [9, 0, 0, "-", "vault"]], "stableswappy.erc": [[9, 1, 1, "", "ERC20"]], "stableswappy.erc.ERC20": [[9, 2, 1, "", "deposit"], [9, 2, 1, "", "transfer"]], "stableswappy.vault": [[9, 1, 1, "", "StableswapVault"]], "stableswappy.vault.StableswapVault": [[9, 2, 1, "", "add_token"], [9, 2, 1, "", "amt2dec"], [9, 2, 1, "", "check_tkn"], [9, 2, 1, "", "get_balances"], [9, 2, 1, "", "get_decimal_amts"], [9, 2, 1, "", "get_decimals"], [9, 2, 1, "", "get_dict"], [9, 2, 1, "", "get_name"], [9, 2, 1, "", "get_names"], [9, 2, 1, "", "get_rates"], [9, 2, 1, "", "get_token"], [9, 2, 1, "", "get_tokens"]], "uniswappy.cpt": [[11, 0, 0, "-", "exchg"], [11, 0, 0, "-", "factory"], [0, 0, 0, "-", "index"], [0, 0, 0, "-", "quote"]], "uniswappy.cpt.exchg": [[10, 1, 1, "", "UniswapExchange"], [11, 1, 1, "", "UniswapV3Exchange"]], "uniswappy.cpt.exchg.UniswapExchange": [[10, 2, 1, "", "add_liquidity"], [10, 2, 1, "", "burn"], [10, 2, 1, "", "get_amount_out"], [10, 2, 1, "", "get_amount_out0"], [10, 2, 1, "", "get_amount_out1"], [10, 2, 1, "", "get_amounts"], [10, 2, 1, "", "get_fee"], [10, 2, 1, "", "get_last_liquidity_deposit"], [10, 2, 1, "", "get_liquidity"], [10, 2, 1, "", "get_liquidity_from_provider"], [10, 2, 1, "", "get_price"], [10, 2, 1, "", "get_reserve"], [10, 2, 1, "", "mint"], [10, 2, 1, "", "quote"], [10, 2, 1, "", "remove_liquidity"], [10, 2, 1, "", "summary"], [10, 2, 1, "", "swap"], [10, 2, 1, "", "swap_exact_tokens_for_tokens"], [10, 2, 1, "", "update_reserves"]], "uniswappy.cpt.exchg.UniswapV3Exchange": [[11, 2, 1, "", "burn"], [11, 2, 1, "", "checkTicks"], [11, 2, 1, "", "collect"], [11, 2, 1, "", "get_last_liquidity_deposit"], [11, 2, 1, "", "get_liquidity"], [11, 2, 1, "", "get_liquidity_from_provider"], [11, 2, 1, "", "get_price"], [11, 2, 1, "", "get_reserve"], [11, 2, 1, "", "get_virtual_reserve"], [11, 2, 1, "", "initialize"], [11, 2, 1, "", "mint"], [11, 2, 1, "", "nextTick"], [11, 2, 1, "", "setFeeProtocol"], [11, 2, 1, "", "summary"], [11, 2, 1, "", "swap"], [11, 2, 1, "", "swap0ForExact1"], [11, 2, 1, "", "swap1ForExact0"], [11, 2, 1, "", "swapExact0For1"], [11, 2, 1, "", "swapExact1For0"]], "uniswappy.cpt.factory": [[11, 1, 1, "", "UniswapFactory"]], "uniswappy.cpt.factory.UniswapFactory": [[11, 2, 1, "", "deploy"], [11, 2, 1, "", "get_exchange"], [11, 2, 1, "", "get_token"]], "uniswappy.cpt.index": [[0, 1, 1, "", "RebaseIndexToken"], [0, 1, 1, "", "SettlementLPToken"]], "uniswappy.cpt.index.RebaseIndexToken": [[0, 2, 1, "", "apply"]], "uniswappy.cpt.index.SettlementLPToken": [[0, 2, 1, "", "apply"]], "uniswappy.cpt.quote": [[0, 1, 1, "", "IndexTokenQuote"], [0, 1, 1, "", "LPQuote"]], "uniswappy.cpt.quote.IndexTokenQuote": [[0, 2, 1, "", "base_x_asset"], [0, 2, 1, "", "base_y_asset"], [0, 2, 1, "", "get_base_lp"], [0, 2, 1, "", "get_native_x"], [0, 2, 1, "", "get_native_y"], [0, 2, 1, "", "get_x"], [0, 2, 1, "", "get_y"]], "uniswappy.cpt.quote.LPQuote": [[0, 2, 1, "", "get_amount"], [0, 2, 1, "", "get_amount_from_lp"], [0, 2, 1, "", "get_liquidity"], [0, 2, 1, "", "get_lp_from_amount"], [0, 2, 1, "", "get_opposing_token"], [0, 2, 1, "", "get_price"], [0, 2, 1, "", "get_reserve"]], "uniswappy": [[11, 0, 0, "-", "erc"]], "uniswappy.erc": [[11, 1, 1, "", "ERC20"], [11, 1, 1, "", "LPERC20"]], "uniswappy.erc.ERC20": [[11, 2, 1, "", "deposit"], [11, 2, 1, "", "transfer"]], "uniswappy.erc.LPERC20": [[11, 2, 1, "", "add_token_lp"], [11, 2, 1, "", "remove_token_lp"], [11, 2, 1, "", "set_token_lp"]], "uniswappy.process": [[0, 0, 0, "-", "deposit"], [0, 0, 0, "-", "join"], [0, 0, 0, "-", "liquidity"], [0, 0, 0, "module-0", "swap"]], "uniswappy.process.deposit": [[0, 1, 1, "", "SwapDeposit"]], "uniswappy.process.deposit.SwapDeposit": [[0, 2, 1, "", "apply"], [0, 2, 1, "", "get_trading_token"]], "uniswappy.process.join": [[0, 1, 1, "", "Join"]], "uniswappy.process.join.Join": [[0, 2, 1, "", "apply"]], "uniswappy.process.liquidity": [[0, 1, 1, "", "AddLiquidity"], [0, 1, 1, "", "RemoveLiquidity"]], "uniswappy.process.liquidity.AddLiquidity": [[0, 2, 1, "", "apply"]], "uniswappy.process.liquidity.RemoveLiquidity": [[0, 2, 1, "", "apply"]], "uniswappy.process.swap": [[0, 1, 1, "", "Swap"], [0, 1, 1, "", "WithdrawSwap"]], "uniswappy.process.swap.Swap": [[0, 2, 1, "", "apply"]], "uniswappy.process.swap.WithdrawSwap": [[0, 2, 1, "", "apply"], [0, 2, 1, "", "get_trading_token"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"]}, "titleterms": {"uniswap": [0, 6, 7, 10, 11, 13, 15, 20, 23, 24, 25, 26, 29, 32], "v2": [0, 6, 10, 13, 15, 21, 22, 23, 24, 25, 30], "v3": [0, 7, 11, 13, 15, 20, 32, 34], "join": [0, 2, 3, 17, 18, 30, 34], "swap": [0, 2, 3, 6, 7, 17, 18, 19, 23, 28, 30, 31, 34], "withdraw": [0, 6, 7, 31], "deposit": [0, 6, 7, 28], "liquid": [0, 3, 18, 20], "quot": [0, 8, 9, 27, 33], "balanc": [1, 3, 8, 12, 13, 15, 18], "abstract": [2, 4, 17, 27, 30, 33, 34, 35], "interfac": [2, 3, 4, 17, 18, 27, 30, 33, 34, 35], "out": [2, 3], "given": [2, 3], "addliquid": [2, 17, 30, 34], "base": 2, "token": [2, 3, 8, 9, 10, 11, 18, 19, 31], "amount": [2, 3], "lp": [2, 3], "share": [2, 3], "primit": [3, 4, 18, 35], "benchmark": 3, "paramet": [3, 18], "pool": [3, 18, 19, 20, 23], "price": [3, 18, 20, 21, 22], "add": [3, 18], "remov": [3, 18], "defipi": 4, "defi": 4, "analyt": 4, "python": 4, "usag": [4, 35], "precis": [4, 27, 33, 35], "instal": 5, "mit": 5, "licens": 5, "perform": [6, 7], "us": [6, 7, 26], "dervat": [6, 7], "uniswappi": [6, 7, 26], "doubl": [6, 7], "side": [6, 7], "calcul": [6, 7], "deriv": [6, 7], "singl": [6, 7], "1a": 7, "dy": 7, "dx": 7, "1b": 7, "2": [7, 22, 24, 27, 33], "3": [7, 27], "4a": 7, "4b": 7, "constant": [8, 10, 11], "weight": 8, "product": [8, 10, 11], "trade": [8, 9, 10, 11, 21, 22], "vault": [8, 9], "stableswap": [9, 13, 15, 16, 18], "compos": 9, "stabl": 9, "introduct": [12, 14], "exampl": 12, "code": 12, "kei": [12, 15], "point": 12, "next": 12, "step": [12, 28, 31], "quick": 13, "start": 13, "subsubpag": 14, "class": 15, "method": 15, "removeliquid": [17, 30, 34], "all": 18, "asset": 18, "usdc": 18, "dai": 18, "usdt": 18, "check": [18, 26, 27, 28, 33], "exchang": 18, "math": 18, "finit": 19, "state": 19, "machin": [19, 27, 33], "simul": [19, 20, 21, 22, 23, 24, 29], "gbm": [19, 23], "process": [19, 23], "setup": [19, 20, 23], "univ2": [19, 23], "random": [19, 23], "suppli": 19, "plot": [19, 20, 23], "result": [19, 23], "order": 20, "book": 20, "construct": 20, "review": 20, "output": 20, "simpl": [21, 22], "uni": [21, 22], "tree": [21, 22, 27], "part": [21, 22, 23, 24], "1": [21, 23, 27, 33], "script": [21, 22], "param": [21, 22], "data": [21, 22], "initi": [21, 22], "dex": [21, 22], "take": [21, 22], "an": [21, 22], "invest": [21, 22], "posit": [21, 22], "index": 26, "problem": [26, 28, 31], "defin": [26, 28, 31], "settlement": 26, "naiv": 26, "approach": 26, "final": [26, 28, 31], "classic": 27, "config": 27, "solv": [28, 31], "basic": 29, "swapdeposit": [30, 34], "withdrawswap": [30, 31, 34], "lpquot": [30, 34], "distribut": 31, "solut": 31}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "nbsphinx": 4, "sphinx": 56}})